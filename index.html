<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–Æ–ª—è: –ú–∞–Ω–¥—Ä—ñ–≤–Ω–∏—Ü—è –º—ñ–∂ –≤—Å—Ä–∞—Ç–∏–º–∏ —Å–≤—ñ—Ç–∞–º–∏</title>
    
    <!-- –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è Tailwind CSS –¥–ª—è —Å—Ç–∏–ª—ñ–∑–∞—Ü—ñ—ó -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è —à—Ä–∏—Ñ—Ç—ñ–≤ –≤—ñ–¥ Google -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Press+Start+2P&display=swap" rel="stylesheet">

    <!-- –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è Tone.js –¥–ª—è –∑–≤—É–∫–æ–≤–∏—Ö –µ—Ñ–µ–∫—Ç—ñ–≤ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.77/Tone.js"></script>

    <style>
        /* –î–æ–¥–∞—î–º–æ –≤–ª–∞—Å–Ω—ñ —Å—Ç–∏–ª—ñ —Ç–∞ –∞–Ω—ñ–º–∞—Ü—ñ—ó */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #111827; /* –¢–µ–º–Ω–∏–π —Ñ–æ–Ω */
            color: #F3F4F6;
        }
        .font-game {
            font-family: 'Press Start 2P', cursive;
        }
        /* –ê–Ω—ñ–º–∞—Ü—ñ—è –¥–ª—è –∫—É—Ä—Å–æ—Ä–∞ –≤ —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ (–∑–∞–∫–æ–º–µ–Ω—Ç–æ–≤–∞–Ω–æ, –∞–ª–µ –∑–∞–ª–∏—à–µ–Ω–æ –Ω–∞ –≤–∏–ø–∞–¥–æ–∫ –ø–æ—Ç—Ä–µ–±–∏) */
        /*
        .blinking-cursor {
            display: inline-block;
            background-color: #34D399;
            margin-left: 4px;
            width: 10px;
            animation: blink 1s step-end infinite;
        }
        @keyframes blink {
            from, to { background-color: transparent }
            50% { background-color: #34D399; }
        }
        */
        /* –°—Ç–∏–ª—ñ–∑–∞—Ü—ñ—è –∫–Ω–æ–ø–æ–∫ –≤–∏–±–æ—Ä—É (–∑–∞–∫–æ–º–µ–Ω—Ç–æ–≤–∞–Ω–æ) */
        /*
        .choice-btn {
            transition: all 0.2s ease-in-out;
        }
        .choice-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(236, 72, 153, 0.7);
        }
        */
        /* –ö–ª–∞—Å –¥–ª—è –ø—Ä–∏—Ö–æ–≤—É–≤–∞–Ω–Ω—è –µ–∫—Ä–∞–Ω—ñ–≤ */
        .hidden {
            display: none;
        }
        /* –°—Ç–∏–ª—ñ–∑–∞—Ü—ñ—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –≤—ñ–∫–Ω–∞ (–∑–∞–∫–æ–º–µ–Ω—Ç–æ–≤–∞–Ω–æ) */
        /*
        #modal-backdrop {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 40;
        }
        #modal {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 50;
        }
        */

        /* –°—Ç–∏–ª—ñ –¥–ª—è HP-–±–∞—Ä—É */
        .hp-bar-container {
            width: 80%;
            max-width: 500px;
            height: 25px;
            background-color: #dc2626; /* –ß–µ—Ä–≤–æ–Ω–∏–π, —è–∫—â–æ –Ω–µ–º–∞—î HP */
            border: 2px solid #ef4444;
            border-radius: 9999px; /* Fully rounded */
            overflow: hidden;
            margin-bottom: 1.5rem; /* mb-6 */
        }
        .hp-bar-fill {
            height: 100%;
            width: 100%; /* –ü–æ—á–∞—Ç–∫–æ–≤–∞ —à–∏—Ä–∏–Ω–∞ */
            background-color: #22c55e; /* –ó–µ–ª–µ–Ω–∏–π, –ø–æ–≤–Ω–∏–π HP */
            border-radius: 9999px;
            transition: width 0.5s ease-out, background-color 0.5s ease-out;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #111827; /* Dark text for readability */
            font-weight: bold;
            font-size: 0.875rem; /* text-sm */
        }

        /* –°—Ç–∏–ª—ñ –¥–ª—è –∞—Ç–∞–∫–∏ –±–æ—Å–∞ (–∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è, —â–æ –∑'—è–≤–ª—è—î—Ç—å—Å—è —ñ –∑–Ω–∏–∫–∞—î) */
        #boss-attack-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: contain; /* –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≤–º—ñ—â—É—î—Ç—å—Å—è */
            background-repeat: no-repeat;
            background-position: center;
            background-color: rgba(0, 0, 0, 0.7); /* –ù–∞–ø—ñ–≤–ø—Ä–æ–∑–æ—Ä–∏–π —Ñ–æ–Ω */
            opacity: 0;
            transition: opacity 2s ease-out; /* –ê–Ω—ñ–º–∞—Ü—ñ—è –∑–Ω–∏–∫–Ω–µ–Ω–Ω—è, –∑–º—ñ–Ω–µ–Ω–æ –Ω–∞ 2s */
            z-index: 30; /* –ü–æ–≤–µ—Ä—Ö –≤—Å—ñ—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤, –∫—Ä—ñ–º –º–æ–¥–∞–ª—å–Ω–∏—Ö –≤—ñ–∫–æ–Ω */
            display: flex; /* –î–ª—è —Ü–µ–Ω—Ç—Ä—É–≤–∞–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è */
            align-items: center;
            justify-content: center;
            pointer-events: none; /* –î–æ–∑–≤–æ–ª—è—î –∫–ª—ñ–∫–∞–º –ø—Ä–æ—Ö–æ–¥–∏—Ç–∏ –∫—Ä—ñ–∑—å –Ω—å–æ–≥–æ, –∫–æ–ª–∏ –Ω–µ–∞–∫—Ç–∏–≤–Ω–µ */
        }
        #boss-attack-overlay.active {
            opacity: 1; /* –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è –ø–æ–≤–Ω—ñ—Å—Ç—é –≤–∏–¥–∏–º–µ */
        }

        /* –°—Ç–∏–ª—ñ –¥–ª—è –ø—ñ–¥—Å–≤—ñ—á—É–≤–∞–Ω–Ω—è —Ç–∞ –º–∏–≥–æ—Ç—ñ–Ω–Ω—è –ø–æ–ª—è –≤–≤–µ–¥–µ–Ω–Ω—è */
        @keyframes highlight-blink {
            0% { box-shadow: 0 0 5px rgba(255, 255, 0, 0.5); border-color: #facc15; }
            50% { box-shadow: 0 0 20px rgba(255, 255, 0, 1); border-color: #facc15; }
            100% { box-shadow: 0 0 5px rgba(255, 255, 0, 0.5); border-color: #facc15; }
        }
        .highlight-blink {
            animation: highlight-blink 1.5s infinite alternate; /* 1.5s –∞–Ω—ñ–º–∞—Ü—ñ—è, –±–µ–∑–∫—ñ–Ω–µ—á–Ω–æ, —Ç—É–¥–∏-—Å—é–¥–∏ */
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-100 overflow-hidden">
    
    <!-- NEW: –§–æ–Ω–æ–≤–∞ –º—É–∑–∏–∫–∞. –ó–∞–º—ñ–Ω—ñ—Ç—å 'PATH_TO_YOUR_MUSIC.mp3' –Ω–∞ —Ä–µ–∞–ª—å–Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è -->
    <audio id="background-music" loop>
        <source src="music.mp3" type="audio/mpeg">
        –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î –∞—É–¥—ñ–æ.
    </audio>

    <!-- –ì–æ–ª–æ–≤–Ω–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –≤—Å—ñ—Ö –µ–∫—Ä–∞–Ω—ñ–≤ -->
    <div id="app-container" class="relative w-full h-screen">

        <!-- –ï–∫—Ä–∞–Ω 1: –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è / –ü—Ä–æ–ª–æ–≥ (–∑–∞–∫–æ–º–µ–Ω—Ç–æ–≤–∞–Ω–æ) -->
        <!--
        <div id="loader-screen" class="w-full h-full flex flex-col items-center justify-center p-4 bg-black">
            <div class="w-full max-w-2xl font-game text-sm md:text-base text-green-400">
                <pre id="terminal-output" class="whitespace-pre-wrap"></pre>
            </div>
            <div id="agent-profile" class="hidden mt-8 text-center animate-pulse">
                <img src="https://placehold.co/200x200/EC4899/FFFFFF?text=AGENT+JJ-27" alt="–§–æ—Ç–æ –∞–≥–µ–Ω—Ç–∞ –Æ–ª—ñ" class="rounded-full border-4 border-pink-500 mx-auto mb-4">
                <button id="start-mission-btn" class="font-game bg-pink-600 text-white py-2 px-4 rounded-lg hover:bg-pink-700 transition-all">–ü–û–ß–ê–¢–ò –ú–Ü–°–Ü–Æ</button>
            </div>
        </div>
        -->

        <!-- –ï–∫—Ä–∞–Ω 2: –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ –∫–∞—Ä—Ç–∞ —Å–≤—ñ—Ç—ñ–≤ (–∑–∞–∫–æ–º–µ–Ω—Ç–æ–≤–∞–Ω–æ) -->
        <!--
        <div id="map-screen" class="hidden w-full h-full flex flex-col items-center justify-center p-4 bg-cover bg-center" style="background-image: url('https://placehold.co/1920x1080/1F2937/4B5563?text=–ö–∞—Ä—Ç–∞+–í—Å—Ä–∞—Ç–æ—Å–≤—ñ—Ç—É');">
            <div class="bg-black bg-opacity-70 p-8 rounded-xl shadow-2xl">
                <h1 class="font-game text-2xl md:text-4xl text-center text-pink-500 mb-8">–ö–∞—Ä—Ç–∞ –í—Å—Ä–∞—Ç–æ—Å–≤—ñ—Ç—É</h1>
                <div id="levels-grid" class="grid grid-cols-2 md:grid-cols-3 gap-6">
                </div>
            </div>
        </div>
        -->
        
        <!-- –ï–∫—Ä–∞–Ω 3: –†—ñ–≤–µ–Ω—å-–∫–≤–µ—Å—Ç (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä) (–∑–∞–∫–æ–º–µ–Ω—Ç–æ–≤–∞–Ω–æ) -->
        <!--
        <div id="level-screen" class="hidden w-full h-full flex flex-col items-center justify-center p-4 bg-gray-900 bg-opacity-90">
            <div id="level-content" class="w-full max-w-3xl text-center bg-gray-800 p-8 rounded-xl shadow-2xl border-2 border-pink-500">
            </div>
        </div>
        -->
        
        <!-- –ï–∫—Ä–∞–Ω 4: –§—ñ–Ω–∞–ª—å–Ω–∞ –±–∏—Ç–≤–∞ -->
        <div id="final-battle-screen" class="hidden w-full h-full flex flex-col items-center justify-center p-4 bg-black text-center">
            <h1 class="font-game text-3xl text-red-500 mb-4 animate-pulse">–§–Ü–ù–ê–õ–¨–ù–ê –ë–ò–¢–í–ê!</h1>
            
            <!-- –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è –±–æ—Å–∞ -->
            <!-- –ó–º—ñ–Ω–µ–Ω–æ —Ä–æ–∑–º—ñ—Ä –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Tailwind CSS -->
            <img src="BossFight.png" alt="–í—Å—Ä–∞—Ç–∏–π –ß–µ—Ä–≤'—è–∫" class="mb-4 rounded-lg mx-auto w-full max-w-xl lg:max-w-2xl">
            
            <!-- HP-–±–∞—Ä –±–æ—Å–∞ -->
            <div class="hp-bar-container">
                <div id="boss-hp-bar-fill" class="hp-bar-fill">100% HP</div>
            </div>

            <!-- –û–ø–∏—Å –±–∏—Ç–≤–∏ -->
            <p class="max-w-2xl mx-auto mb-4 text-lg">–ü–µ—Ä–µ–¥ —Ç–æ–±–æ—é –ø–æ—Å—Ç–∞—î –≤—Ç—ñ–ª–µ–Ω–Ω—è —Ç–≤–æ–≥–æ –Ω–∞–π–±—ñ–ª—å—à–æ–≥–æ —Å—Ç—Ä–∞—Ö—É: –≥—ñ–≥–∞–Ω—Ç—Å—å–∫–∏–π, —Å–ª–∏–∑—å–∫–∏–π, –ø—ñ–∫—Å–µ–ª—å–Ω–∏–π **–í—Å—Ä–∞—Ç–∏–π –ß–µ—Ä–≤'—è–∫**. –í—ñ–Ω –∑–≤–∏–≤–∞—î—Ç—å—Å—è, –∞ –π–æ–≥–æ —Ç—ñ–ª–æ –ø–µ—Ä–µ–ª–∏–≤–∞—î—Ç—å—Å—è –Ω–µ–ø—Ä–∏—î–º–Ω–∏–º–∏ –≤—ñ–¥—Ç—ñ–Ω–∫–∞–º–∏ –Ω—É–¥–Ω–æ-–±–µ–∂–µ–≤–æ–≥–æ. –í—ñ–Ω –ø–æ–≥—Ä–æ–∂—É—î –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏—Ç–∏ –≤–µ—Å—å —Å–≤—ñ—Ç –Ω–∞ —Å—É—Ü—ñ–ª—å–Ω—É —Ü–∏—Ç–∞—Ç—É –∑ –ø–∞–±–ª—ñ–∫–∞ –¥–ª—è –º–∞—Ç—É—Å—å.</p>
            <p class="max-w-2xl mx-auto mb-4 text-lg">–ê–ª–µ —Ç–∏, –µ–ª–µ–≥–∞–Ω—Ç–Ω–∞ —ñ –±–µ–∑—Å—Ç—Ä–∞—à–Ω–∞ –∞–≥–µ–Ω—Ç–∫–∞ **JJ-27**, —Å—Ç–æ—ó—à –Ω–∞–≤–ø—Ä–æ—Ç–∏ –≤ —Å–ª—ñ–ø—É—á–æ–º—É –±–æ–π–æ–≤–æ–º—É –∫—É–ø–∞–ª—å–Ω–∏–∫—É, –æ–∑–±—Ä–æ—î–Ω–∞ –∫–µ–ª–∏—Ö–æ–º —ñ —Å–∞—Ä–∫–∞–∑–º–æ–º. –¢–∏ –∑–Ω–∞—î—à —Å–µ–∫—Ä–µ—Ç–Ω—É —Ñ—Ä–∞–∑—É-–µ–∫–∑–æ—Ä—Ü–∏–∑–º, —â–æ –∑–¥–∞—Ç–Ω–∞ –≤–∏–≥–Ω–∞—Ç–∏ –±—É–¥—å-—è–∫–æ–≥–æ —Ä–æ–∑–±—ñ–π–Ω–∏–∫–∞!</p>
            
            <form id="final-form" class="flex flex-col items-center gap-4">
                <button type="button" id="player-attack-btn" class="font-game bg-blue-600 text-white py-2 px-6 rounded-lg hover:bg-blue-700 transition-all shadow-lg">–ê–¢–ê–ö–£–í–ê–¢–ò –ß–ï–†–í'–Ø–ö–ê!</button>
                <input type="text" id="final-input" class="bg-gray-700 border-2 border-gray-600 rounded-lg p-2 text-white w-full max-w-sm text-center" placeholder="–í–≤–µ–¥–∏ –ø–µ—Ä–µ–º–æ–∂–Ω—É —Ñ—Ä–∞–∑—É..." disabled>
                <button type="submit" id="submit-phrase-btn" class="font-game bg-green-500 text-black py-2 px-6 rounded-lg hover:bg-green-400 transition-all shadow-lg" disabled>–í–ò–ì–ù–ê–¢–ò!</button>
            </form>
        </div>

        <!-- –ï–∫—Ä–∞–Ω 5: –ù–∞–≥–æ—Ä–æ–¥–∞ (–∑–∞–∫–æ–º–µ–Ω—Ç–æ–≤–∞–Ω–æ) -->
        <!--
        <div id="reward-screen" class="hidden w-full h-full flex flex-col items-center justify-center p-4 bg-cover bg-center" style="background-image: url('https://placehold.co/1920x1080/4C1D95/A78BFA?text=–ü–µ—Ä–µ–º–æ–≥–∞!');">
            <div class="bg-black bg-opacity-75 p-10 rounded-xl border-4 border-yellow-400 text-center">
                <h1 class="font-game text-2xl md:text-3xl text-yellow-400 mb-4">–ü–ï–†–ï–ú–û–ì–ê!</h1>
                <h2 class="text-xl md:text-2xl mb-6">–û—Ñ—ñ—Ü—ñ–π–Ω–∏–π –î–∏–ø–ª–æ–º</h2>
                <p class="text-2xl md:text-4xl font-bold text-pink-400 mb-2">–Æ–ª—ñ—ó</p>
                <p class="mb-6">–ü–æ—á–µ—Å–Ω—ñ–π –°–µ–∫—Å—ñ-–ú–∞–Ω–¥—Ä—ñ–≤–Ω–∏—Ü—ñ —Ç–∞ –í–∏–Ω–∏—â—É–≤–∞—á—Ü—ñ –í—Å—Ä–∞—Ç–∏—Ö –ß–µ—Ä–≤'—è–∫—ñ–≤</p>
                <p class="text-xs text-gray-400 mb-8">–ó–∞—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ –†–∞–¥–æ—é –Ñ–≤—Ä–æ—Ç—É—Ä—á–∏–∫–∞, –ì—Ä–∞—Ñ–æ—Å–ª–∞–≤–æ–º —Ç–∞ –±–æ–∫–∞–ª–æ–º –≤–∏–Ω–∞.</p>
                <button id="gallery-btn" class="font-game bg-pink-600 text-white py-3 px-6 rounded-lg hover:bg-pink-700 transition-all">
                    –í—ñ–¥–∫—Ä–∏—Ç–∏ —Ç—É—Å–æ–≤–æ—á–Ω–∏–π –í—Å–µ—Å–≤—ñ—Ç
                </button>
            </div>
        </div>
        -->
        
        <!-- –ï–∫—Ä–∞–Ω 6: –ì–∞–ª–µ—Ä–µ—è (–∑–∞–∫–æ–º–µ–Ω—Ç–æ–≤–∞–Ω–æ) -->
        <!--
        <div id="gallery-screen" class="hidden w-full h-full overflow-y-auto p-8 bg-gray-900">
            <h1 class="font-game text-4xl text-center text-pink-500 mb-8">–¢—É—Å–æ–≤–æ—á–Ω–∏–π –í—Å–µ—Å–≤—ñ—Ç –Æ–ª—ñ</h1>
            <div class="max-w-6xl mx-auto">
                <h2 class="font-game text-2xl text-green-400 mb-4">–í–∏–∫–æ–Ω–∞–Ω—ñ –º—ñ—Å—ñ—ó –ø–æ –∞–Ω—ñ–≥—ñ–ª—è—Ü—ñ—ó –∞–ª–∫–æ–≥–æ–ª—å–Ω–∏—Ö –Ω–∞–ø–æ—ó–≤</h2>
                <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mb-8">
                    <img src="11.jpg" class="rounded-lg shadow-lg w-full h-auto object-cover">
                    <img src="22.jpg" class="rounded-lg shadow-lg w-full h-auto object-cover">
                    <img src="33.jpg" class="rounded-lg shadow-lg w-full h-auto object-cover">
                    <img src="44.jpg" class="rounded-lg shadow-lg w-full h-auto object-cover">
                </div>
                <h2 class="font-game text-2xl text-green-400 mb-4">–ß–ª–µ–Ω–∏ –∫–æ–º–∞–Ω–¥–∏ –∞–≥–µ–Ω—Ç–∞</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-8">
                    <div class="bg-gray-800 p-2 rounded-lg">
                        <video controls class="w-full rounded-md">
                            <source src="111.mp4" type="video/mp4">
                            –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î –≤—ñ–¥–µ–æ.
                        </video>
                        <p class="text-center mt-2">–ú—ñ–∂–Ω–∞—Ä–æ–¥–Ω–∞ —Å–ø—ñ–≤–ø—Ä–∞—Ü—è –∑ –∞–≥–µ–Ω—Ç–∞–º–∏ –Ü–Ω—Ç–µ—Ä–ø–æ–ª—É</p>
                    </div>
                    <div class="bg-gray-800 p-2 rounded-lg">
                        <video controls class="w-full rounded-md">
                            <source src="222.mp4" type="video/mp4">
                            –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î –≤—ñ–¥–µ–æ.
                        </video>
                        <p class="text-center mt-2">–í—Ç–∏—Ä–∞–Ω–Ω—è –≤ –¥–æ–≤—ñ—Ä—É –ø—ñ–¥ –ø—Ä–∏–∫—Ä–∏—Ç—Ç—è–º</p>
                    </div>
                </div>
                <h2 class="font-game text-2xl text-green-400 mb-4">–§–µ–π–∫–æ–≤—ñ –Ω–∞–≥–æ—Ä–æ–¥–∏</h2>
                <div class="space-y-4 text-lg">
                    <p class="bg-gray-800 p-3 rounded-lg">üèÖ –û—Ä–¥–µ–Ω "–ü–ª–∞—Å—Ç–∏–∫–æ–≤–æ–≥–æ –°—Ç—ñ–ª—å—Ü—è –Ü —Å—Ç—É–ø–µ–Ω—è"</p>
                    <p class="bg-gray-800 p-3 rounded-lg">üèÖ –ú–µ–¥–∞–ª—å "–ó–∞ –≤–∑—è—Ç—Ç—è –ø–∞—Ä–∫–∞–Ω—É"</p>
                    <p class="bg-gray-800 p-3 rounded-lg">üèÜ –ü—Ä–µ–º—ñ—è "–ú—ñ—Å –ö—Ä—î–≤–µ—Ç–∫–∞ 2025"</p>
                </div>
            </div>
            <button id="back-to-reward-btn" class="font-game fixed top-4 right-4 bg-gray-700 text-white py-2 px-4 rounded-lg hover:bg-gray-600 transition-all">–ù–∞–∑–∞–¥</button>
        </div>
        -->

        <!-- –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ (–∑–∞–∫–æ–º–µ–Ω—Ç–æ–≤–∞–Ω–æ) -->
        <!--
        <div id="modal-container" class="hidden">
            <div id="modal-backdrop"></div>
            <div id="modal" class="w-11/12 max-w-md bg-gray-800 rounded-xl p-6 text-center border-4">
                <div id="modal-content"></div>
                <button id="modal-close-btn" class="mt-6 font-game bg-pink-600 text-white py-2 px-6 rounded-lg hover:bg-pink-700 transition-all">–î–ê–õ–Ü</button>
            </div>
        </div>
        -->

        <!-- –û–≤–µ—Ä–ª–µ–π –¥–ª—è –∞—Ç–∞–∫ –±–æ—Å–∞ -->
        <div id="boss-attack-overlay"></div>

    </div>

    <script>
        // --- –ì–õ–û–ë–ê–õ–¨–ù–Ü –ù–ê–õ–ê–®–¢–£–í–ê–ù–ù–Ø –¢–ê –ó–ú–Ü–ù–ù–Ü ---
        
        const finalForm = document.getElementById('final-form');
        const finalInput = document.getElementById('final-input');
        const submitPhraseBtn = document.getElementById('submit-phrase-btn'); // –ö–Ω–æ–ø–∫–∞ –¥–ª—è –ø–µ—Ä–µ–º–æ–∂–Ω–æ—ó —Ñ—Ä–∞–∑–∏
        const playerAttackBtn = document.getElementById('player-attack-btn'); // –ö–Ω–æ–ø–∫–∞ –∞—Ç–∞–∫–∏ –≥—Ä–∞–≤—Ü—è
        const bossHpBarFill = document.getElementById('boss-hp-bar-fill'); // –ó–∞–ø–æ–≤–Ω–µ–Ω–Ω—è HP-–±–∞—Ä—É
        const bossAttackOverlay = document.getElementById('boss-attack-overlay'); // –û–≤–µ—Ä–ª–µ–π –¥–ª—è –∞—Ç–∞–∫–∏ –±–æ—Å–∞
        const backgroundMusic = document.getElementById('background-music'); // –§–æ–Ω–æ–≤–∞ –º—É–∑–∏–∫–∞

        // –ó–≤—É–∫–æ–≤—ñ –µ—Ñ–µ–∫—Ç–∏
        const synth = new Tone.Synth().toDestination();
        const clickSound = () => synth.triggerAttackRelease("C4", "8n");
        const successSound = () => {
            const synth = new Tone.Synth().toDestination();
            synth.triggerAttackRelease("C5", "8n", Tone.now());
            synth.triggerAttackRelease("E5", "8n", Tone.now() + 0.1);
            synth.triggerAttackRelease("G5", "8n", Tone.now() + 0.2);
        };
        const failureSound = () => {
            const synth = new Tone.FMSynth().toDestination();
            synth.triggerAttackRelease("A2", "4n");
        };
        const winSound = () => {
             const polySynth = new Tone.PolySynth(Tone.Synth).toDestination();
             polySynth.triggerAttackRelease(["C4", "E4", "G4", "C5"], 1);
        }

        // –Ü–≥—Ä–æ–≤–∏–π —Å—Ç–∞–Ω –±–∏—Ç–≤–∏
        let bossHP = 100; // –ü–æ—Ç–æ—á–Ω–µ –∑–¥–æ—Ä–æ–≤'—è –±–æ—Å–∞
        const bossMaxHP = 100; // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–µ –∑–¥–æ—Ä–æ–≤'—è –±–æ—Å–∞
        const playerAttackDamage = 25; // –°–∫—ñ–ª—å–∫–∏ HP –∑–Ω—ñ–º–∞—î –æ–¥–Ω–∞ –∞—Ç–∞–∫–∞ –≥—Ä–∞–≤—Ü—è
        const winningPhraseThreshold = 25; // –í—ñ–¥—Å–æ—Ç–æ–∫ HP, –ø—Ä–∏ —è–∫–æ–º—É –º–æ–∂–Ω–∞ –≤–≤–µ—Å—Ç–∏ —Ñ—Ä–∞–∑—É

        // –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è –¥–ª—è –∞—Ç–∞–∫–∏ –±–æ—Å–∞ (—à–ª—è—Ö–∏ –¥–æ —Ñ–∞–π–ª—ñ–≤ —É —Ç—ñ–π —Å–∞–º—ñ–π –ø–∞–ø—Ü—ñ)
        const bossAttackImages = [
            'BossAttack1.jpg',
            'BossAttack2.jpg',
            'BossAttack3.jpg'
        ];
        let currentBossAttackImageIndex = 0; // –î–ª—è —Ü–∏–∫–ª—ñ—á–Ω–æ–≥–æ –ø–æ–∫–∞–∑—É –∑–æ–±—Ä–∞–∂–µ–Ω—å –∞—Ç–∞–∫

        // --- –§–£–ù–ö–¶–Ü–á ---

        /**
         * –ü–µ—Ä–µ–º–∏–∫–∞—î –≤–∏–¥–∏–º—ñ—Å—Ç—å –µ–∫—Ä–∞–Ω—ñ–≤.
         * @param {string} screenId ID –µ–∫—Ä–∞–Ω—É, —è–∫–∏–π –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–æ–∫–∞–∑–∞—Ç–∏.
         */
        function showScreen(screenId) {
            const screens = document.querySelectorAll('#app-container > div');
            screens.forEach(screen => {
                if (screen.id === screenId) {
                    screen.classList.remove('hidden');
                } else {
                    screen.classList.add('hidden');
                }
            });
        }
        
        /**
         * –û–Ω–æ–≤–ª—é—î –≤—ñ–∑—É–∞–ª—å–Ω–µ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è HP-–±–∞—Ä—É –±–æ—Å–∞.
         */
        function updateBossHPDisplay() {
            const hpPercentage = (bossHP / bossMaxHP) * 100;
            bossHpBarFill.style.width = `${hpPercentage}%`;
            bossHpBarFill.textContent = `${Math.max(0, bossHP)}% HP`; // –ó–∞–±–µ–∑–ø–µ—á—É—î–º–æ, —â–æ HP –Ω–µ –π–¥–µ –≤ –º—ñ–Ω—É—Å

            // –ó–º—ñ–Ω—é—î–º–æ –∫–æ–ª—ñ—Ä HP-–±–∞—Ä—É –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –≤—ñ–¥—Å–æ—Ç–∫–∞ HP
            if (hpPercentage > 50) {
                bossHpBarFill.style.backgroundColor = '#22c55e'; // –ó–µ–ª–µ–Ω–∏–π
            } else if (hpPercentage > 25) {
                bossHpBarFill.style.backgroundColor = '#facc15'; // –ñ–æ–≤—Ç–∏–π
                bossHpBarFill.style.color = '#111827'; // Dark text for readability
            } else {
                bossHpBarFill.style.backgroundColor = '#dc2626'; // –ß–µ—Ä–≤–æ–Ω–∏–π
                bossHpBarFill.style.color = '#F3F4F6'; // Light text for readability
            }

            // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ –Ω–∞—Å—Ç–∞–≤ —á–∞—Å –¥–ª—è –ø–µ—Ä–µ–º–æ–∂–Ω–æ—ó —Ñ—Ä–∞–∑–∏
            if (bossHP <= winningPhraseThreshold) {
                finalInput.disabled = false;
                submitPhraseBtn.disabled = false;
                playerAttackBtn.disabled = true; // –í–∏–º–∏–∫–∞—î–º–æ –∫–Ω–æ–ø–∫—É –∞—Ç–∞–∫–∏
                finalInput.placeholder = "–í–≤–µ–¥–∏ –ø–µ—Ä–µ–º–æ–∂–Ω—É —Ñ—Ä–∞–∑—É!";
                playerAttackBtn.classList.add('opacity-50', 'cursor-not-allowed'); // –ó–º–µ–Ω—à—É—î–º–æ –ø—Ä–æ–∑–æ—Ä—ñ—Å—Ç—å –∫–Ω–æ–ø–∫–∏ –∞—Ç–∞–∫–∏
                submitPhraseBtn.classList.remove('opacity-50', 'cursor-not-allowed');
                finalInput.classList.add('highlight-blink'); // –î–æ–¥–∞—î–º–æ –∫–ª–∞—Å –¥–ª—è –ø—ñ–¥—Å–≤—ñ—á—É–≤–∞–Ω–Ω—è/–º–∏–≥–æ—Ç—ñ–Ω–Ω—è
            } else {
                finalInput.disabled = true;
                submitPhraseBtn.disabled = true;
                finalInput.placeholder = "–ó–º–µ–Ω—à HP –±–æ—Å–∞, —â–æ–± –≤–≤–µ—Å—Ç–∏ —Ñ—Ä–∞–∑—É...";
                submitPhraseBtn.classList.add('opacity-50', 'cursor-not-allowed');
                finalInput.classList.remove('highlight-blink'); // –í–∏–¥–∞–ª—è—î–º–æ –∫–ª–∞—Å, —è–∫—â–æ —É–º–æ–≤–∞ –Ω–µ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è
            }
        }

        /**
         * –û–±—Ä–æ–±–ª—è—î –∞—Ç–∞–∫—É –≥—Ä–∞–≤—Ü—è.
         */
        function playerAttack() {
            clickSound();
            
            // –Ø–∫—â–æ HP –≤–∂–µ –Ω–∏–∑—å–∫–µ —ñ —Ñ—Ä–∞–∑—É –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–≤–æ–¥–∏—Ç–∏, –Ω–µ –¥–æ–∑–≤–æ–ª—è—î–º–æ –∞—Ç–∞–∫—É–≤–∞—Ç–∏
            if (bossHP <= winningPhraseThreshold && bossHP > 0) {
                alert("HP –±–æ—Å–∞ –¥–æ—Å—Ç–∞—Ç–Ω—å–æ –Ω–∏–∑—å–∫–µ! –í–≤–µ–¥—ñ—Ç—å –ø–µ—Ä–µ–º–æ–∂–Ω—É —Ñ—Ä–∞–∑—É!");
                return;
            } else if (bossHP <= 0) {
                 // –Ø–∫—â–æ –±–æ—Å –≤–∂–µ –º–µ—Ä—Ç–≤–∏–π, –Ω–µ –¥–æ–∑–≤–æ–ª—è—î–º–æ –∞—Ç–∞–∫—É–≤–∞—Ç–∏
                return;
            }

            playerAttackBtn.disabled = true; // –í–∏–º–∏–∫–∞—î–º–æ –∫–Ω–æ–ø–∫—É –∞—Ç–∞–∫–∏ –ø—ñ–¥ —á–∞—Å —Ö–æ–¥—É
            submitPhraseBtn.disabled = true; // –í–∏–º–∏–∫–∞—î–º–æ –∫–Ω–æ–ø–∫—É —Ñ—Ä–∞–∑–∏ –ø—ñ–¥ —á–∞—Å —Ö–æ–¥—É
            playerAttackBtn.classList.add('opacity-50', 'cursor-not-allowed');
            submitPhraseBtn.classList.add('opacity-50', 'cursor-not-allowed');

            bossHP -= playerAttackDamage; // –ó–Ω—ñ–º–∞—î–º–æ 25 HP
            if (bossHP < 0) bossHP = 0; // –ó–∞–ø–æ–±—ñ–≥–∞—î–º–æ –≤—ñ–¥'—î–º–Ω–æ–º—É HP
            updateBossHPDisplay();
            successSound();

            // –ë–æ—Å –∫–æ–Ω—Ç—Ä–∞—Ç–∞–∫—É—î, —è–∫—â–æ –π–æ–≥–æ HP > 0 –ø—ñ—Å–ª—è –∞—Ç–∞–∫–∏ –≥—Ä–∞–≤—Ü—è
            if (bossHP > 0) {
                setTimeout(bossAttack, 1000); // –ó–∞—Ç—Ä–∏–º–∫–∞ 1 —Å–µ–∫—É–Ω–¥–∞ –ø–µ—Ä–µ–¥ –∞—Ç–∞–∫–æ—é –±–æ—Å–∞
            } else {
                // –Ø–∫—â–æ –±–æ—Å –ø–æ–º–µ—Ä –≤—ñ–¥ –∞—Ç–∞–∫–∏, –¥–æ–∑–≤–æ–ª—è—î–º–æ –≤–≤–µ—Å—Ç–∏ —Ñ—Ä–∞–∑—É (–∞–±–æ –ø–µ—Ä–µ—Ö–æ–¥–∏–º–æ –¥–æ –ø–µ—Ä–µ–º–æ–≥–∏)
                finalInput.disabled = false;
                submitPhraseBtn.disabled = false;
                finalInput.placeholder = "–í–≤–µ–¥–∏ –ø–µ—Ä–µ–º–æ–∂–Ω—É —Ñ—Ä–∞–∑—É!";
                submitPhraseBtn.classList.remove('opacity-50', 'cursor-not-allowed');
                playerAttackBtn.classList.add('opacity-50', 'cursor-not-allowed'); // –î–µ–∞–∫—Ç–∏–≤—É—î–º–æ –∫–Ω–æ–ø–∫—É –∞—Ç–∞–∫–∏
                winSound(); // –ú–æ–∂–ª–∏–≤–æ, –≤—ñ–¥—Ç–≤–æ—Ä–∏—Ç–∏ –∑–≤—É–∫ –ø–µ—Ä–µ–º–æ–≥–∏
                alert("–ë–æ—Å –ø–µ—Ä–µ–º–æ–∂–µ–Ω–∏–π! –í–≤–µ–¥—ñ—Ç—å –ø–µ—Ä–µ–º–æ–∂–Ω—É —Ñ—Ä–∞–∑—É, —â–æ–± –∑–∞–≤–µ—Ä—à–∏—Ç–∏!");
            }
        }

        /**
         * –û–±—Ä–æ–±–ª—è—î –∞—Ç–∞–∫—É –±–æ—Å–∞.
         */
        function bossAttack() {
            failureSound(); // –ó–≤—É–∫ –∞—Ç–∞–∫–∏ –±–æ—Å–∞ (–º–æ–∂–Ω–∞ –∑–∞–º—ñ–Ω–∏—Ç–∏ –Ω–∞ —ñ–Ω—à–∏–π)

            // –í–∏–±–∏—Ä–∞—î–º–æ –Ω–∞—Å—Ç—É–ø–Ω–µ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∞—Ç–∞–∫–∏
            const attackImageUrl = bossAttackImages[currentBossAttackImageIndex];
            bossAttackOverlay.style.backgroundImage = `url('${attackImageUrl}')`;
            bossAttackOverlay.classList.add('active'); // –†–æ–±–∏–º–æ –æ–≤–µ—Ä–ª–µ–π –≤–∏–¥–∏–º–∏–º (opacity 1)

            // –ü–µ—Ä–µ–º–∏–∫–∞—î–º–æ –Ω–∞ –Ω–∞—Å—Ç—É–ø–Ω–µ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –¥–ª—è –Ω–∞—Å—Ç—É–ø–Ω–æ—ó –∞—Ç–∞–∫–∏
            currentBossAttackImageIndex = (currentBossAttackImageIndex + 1) % bossAttackImages.length;

            // –ß–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥–∏ (—á–∞—Å –≤–∏–¥–∏–º–æ—Å—Ç—ñ) –ø–æ—á–∏–Ω–∞—î–º–æ –∑–Ω–∏–∫–∞—Ç–∏
            setTimeout(() => {
                bossAttackOverlay.classList.remove('active'); // –ó–∞–ø—É—Å–∫–∞—î–º–æ –∞–Ω—ñ–º–∞—Ü—ñ—é –∑–Ω–∏–∫–Ω–µ–Ω–Ω—è (opacity 0)
                // –ü—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –∞–Ω—ñ–º–∞—Ü—ñ—ó –∑–Ω–∏–∫–Ω–µ–Ω–Ω—è (2 —Å–µ–∫—É–Ω–¥–∏),
                // —Ä–æ–±–∏–º–æ –æ–≤–µ—Ä–ª–µ–π –ø—Ä–∏—Ö–æ–≤–∞–Ω–∏–º –ø–æ–≤–Ω—ñ—Å—Ç—é —ñ –¥–æ–∑–≤–æ–ª—è—î–º–æ –≥—Ä–∞–≤—Ü–µ–≤—ñ –∞—Ç–∞–∫—É–≤–∞—Ç–∏, —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ
                setTimeout(() => {
                    // –Ø–∫—â–æ –±–æ—Å –≤—Å–µ —â–µ –∂–∏–≤–∏–π —ñ –Ω–µ –¥–æ—Å—è–≥ –ø–æ—Ä–æ–≥—É –ø–µ—Ä–µ–º–æ–∂–Ω–æ—ó —Ñ—Ä–∞–∑–∏, –¥–æ–∑–≤–æ–ª—è—î–º–æ –∞—Ç–∞–∫—É–≤–∞—Ç–∏
                    if (bossHP > winningPhraseThreshold) {
                        playerAttackBtn.disabled = false; // –ó–Ω–æ–≤—É –¥–æ–∑–≤–æ–ª—è—î–º–æ –≥—Ä–∞–≤—Ü–µ–≤—ñ –∞—Ç–∞–∫—É–≤–∞—Ç–∏
                        playerAttackBtn.classList.remove('opacity-50', 'cursor-not-allowed');
                    } else if (bossHP <= winningPhraseThreshold && bossHP > 0) {
                        // –Ø–∫—â–æ HP <= 25%, –∞–ª–µ —â–µ –Ω–µ 0, –¥–æ–∑–≤–æ–ª—è—î–º–æ –≤–≤–µ—Å—Ç–∏ —Ñ—Ä–∞–∑—É
                        finalInput.disabled = false;
                        submitPhraseBtn.disabled = false;
                        submitPhraseBtn.classList.remove('opacity-50', 'cursor-not-allowed');
                    } else if (bossHP <= 0) {
                        // –Ø–∫—â–æ –±–æ—Å –ø–æ–º–µ—Ä, –∑–∞–ª–∏—à–∞—î–º–æ –∫–Ω–æ–ø–∫–∏ –∞—Ç–∞–∫–∏ —Ç–∞ —Ñ—Ä–∞–∑–∏ –≤–∏–º–∫–Ω–µ–Ω–∏–º–∏
                        playerAttackBtn.classList.add('opacity-50', 'cursor-not-allowed');
                        submitPhraseBtn.classList.add('opacity-50', 'cursor-not-allowed');
                    }
                }, 2000); // –¢–∞–π–º–∞—É—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î —Ç—Ä–∏–≤–∞–ª–æ—Å—Ç—ñ CSS transition (2s)
            }, 2000); // –ß–∞—Å, –ø—Ä–æ—Ç—è–≥–æ–º —è–∫–æ–≥–æ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∞—Ç–∞–∫–∏ –ø–æ–≤–Ω—ñ—Å—Ç—é –≤–∏–¥–∏–º–µ
        }


        // --- –û–ë–†–û–ë–ù–ò–ö–ò –ü–û–î–Ü–ô ---

        // –û–±—Ä–æ–±–Ω–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ –∞—Ç–∞–∫–∏ –≥—Ä–∞–≤—Ü—è
        playerAttackBtn.addEventListener('click', playerAttack);

        // –û–±—Ä–æ–±–Ω–∏–∫ –¥–ª—è —Ñ–æ—Ä–º–∏ –≤–≤–µ–¥–µ–Ω–Ω—è –ø–µ—Ä–µ–º–æ–∂–Ω–æ—ó —Ñ—Ä–∞–∑–∏
        finalForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const finalAnswers = ["–≤–∏–π–¥–∏ –æ—Ç—Å—é–¥–∞, —Ä–æ–∑–±—ñ–π–Ω–∏–∫", "–≤–∏–π–¥–∏ –æ—Ç—Å—é–¥–∞ —Ä–æ–∑–±—ñ–π–Ω–∏–∫", "–≤–∏–π–¥–∏ –æ—Ç—Å—é–¥–∞, —Ä–æ–∑–±—ñ–π–Ω–∏–∫!"];
            const userInput = finalInput.value.trim().toLowerCase();
            
            // –¢–µ–ø–µ—Ä —Ñ—Ä–∞–∑—É –º–æ–∂–Ω–∞ –≤–≤–æ–¥–∏—Ç–∏ —Ç—ñ–ª—å–∫–∏ –∫–æ–ª–∏ HP <= winningPhraseThreshold
            if (bossHP > winningPhraseThreshold && bossHP > 0) {
                // –ó–∞—Ä–∞–Ω–æ –¥–ª—è –ø–µ—Ä–µ–º–æ–∂–Ω–æ—ó —Ñ—Ä–∞–∑–∏
                failureSound();
                finalInput.classList.add('animate-bounce', 'border-red-500');
                finalInput.placeholder = "–©–µ –∑–∞—Ä–∞–Ω–æ! –ê—Ç–∞–∫—É–π —â–µ!";
                setTimeout(() => {
                    finalInput.classList.remove('animate-bounce', 'border-red-500');
                    finalInput.placeholder = "–í–≤–µ–¥–∏ –ø–µ—Ä–µ–º–æ–∂–Ω—É —Ñ—Ä–∞–∑—É...";
                    finalInput.value = "";
                }, 1500);
                return; // –í–∏—Ö–æ–¥–∏–º–æ
            }

            // –Ø–∫—â–æ HP <= winningPhraseThreshold, –ø–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ —Ñ—Ä–∞–∑—É
            if (finalAnswers.includes(userInput)) {
                winSound();
                // –ü—Ä–∏–ø—É—Å–∫–∞—î–º–æ, —â–æ reward-screen —ñ—Å–Ω—É—î —ñ —î –µ–∫—Ä–∞–Ω–æ–º –ø–µ—Ä–µ–º–æ–≥–∏
                showScreen('reward-screen'); 
                // –í–∏–≤–æ–¥–∏–º–æ –ø—Ä–æ—Å—Ç–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è, –æ—Å–∫—ñ–ª—å–∫–∏ –º–æ–¥–∞–ª—å–Ω—ñ –≤—ñ–∫–Ω–∞ –∑–∞–∫–æ–º–µ–Ω—Ç–æ–≤–∞–Ω—ñ
                alert("–ü–ï–†–ï–ú–û–ì–ê! –í—Å—Ä–∞—Ç–∏–π –ß–µ—Ä–≤'—è–∫ –≤–∏–≥–Ω–∞–Ω–∏–π!");
            } else {
                failureSound();
                finalInput.classList.add('animate-bounce', 'border-red-500');
                finalInput.placeholder = "–ù–ï–ü–†–ê–í–ò–õ–¨–ù–û! –°–ø—Ä–æ–±—É–π —â–µ!";
                setTimeout(() => {
                    finalInput.classList.remove('animate-bounce', 'border-red-500');
                    finalInput.placeholder = "–í–≤–µ–¥–∏ –ø–µ—Ä–µ–º–æ–∂–Ω—É —Ñ—Ä–∞–∑—É...";
                    finalInput.value = "";
                }, 1500);
            }
        });

        // --- –Ü–ù–Ü–¶–Ü–ê–õ–Ü–ó–ê–¶–Ü–Ø –ì–†–ò ---
        document.body.addEventListener('click', () => {
             Tone.start();
             // NEW: –ó–∞–ø—É—Å–∫–∞—î–º–æ –º—É–∑–∏–∫—É –ø—Ä–∏ –ø–µ—Ä—à–æ–º—É –∫–ª—ñ–∫—É
             if (backgroundMusic.paused) {
                 backgroundMusic.play().catch(e => console.error("Autoplay was prevented:", e));
             }
        }, { once: true });
        
        // –ü–æ–∫–∞–∑—É—î–º–æ –µ–∫—Ä–∞–Ω —Ñ—ñ–Ω–∞–ª—å–Ω–æ—ó –±–∏—Ç–≤–∏ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ
        showScreen('final-battle-screen');
        // –û–Ω–æ–≤–ª—é—î–º–æ HP-–±–∞—Ä –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ
        updateBossHPDisplay();
        // –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –ø–æ–ª—è –≤–≤–µ–¥–µ–Ω–Ω—è —Ñ—Ä–∞–∑–∏ –≤–∏–º–∫–Ω–µ–Ω—ñ –Ω–∞ —Å—Ç–∞—Ä—Ç—ñ
        finalInput.disabled = true;
        submitPhraseBtn.disabled = true;
        submitPhraseBtn.classList.add('opacity-50', 'cursor-not-allowed');

    </script>
</body>
</html>
